<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<%@ include file="/WEB-INF/layouts/include.jsp"%>

<!-- 공통 코드 검색 창  -->
<div class="panel panel-flat"
	data-bind="with: searchData, enterKey: $root.search">
	<div class="panel-heading">
		<span class="text-semibold">검색조건</span>
		<div class="heading-elements">
			<ul class="icons-list">
				<li><a data-action="collapse"></a></li>
			</ul>
		</div>
		<a class="heading-elements-toggle"><i class="icon-menu"></i></a>
	</div>
	<div class="panel-body paddingbottom0">
		<form class="form-horizontal" role="form">
			<!-- 공통코드 단일 입력 칸   -->
			<div class="form-group">
				<!-- 공통코드  -->
				<div class="col-md-3">
					<label class="control-label text-right">코드</label> <input
						type="text" class="form-control input-xs" placeholder="코드"
						data-bind="value: searchMberLoginEmail">
				</div>
				<!-- 공통코드명  -->
				<div class="col-md-3">
					<label class="control-label text-right">코드명</label> <input
						type="text" class="form-control input-xs" placeholder="코드명"
						data-bind="value: searchMberNm">
				</div>
				<!-- 사용 여부  -->
				<div class="col-md-3">
					<label class="control-label text-right">관리자등급</label> <select
						class="form-control input-xs"
						data-bind="options: $root.eduPotalAdminGradeSelectOptions, optionsText:'text', optionsValue:'value', value: searchMberGradSeCd, optionsCaption: '전체'"></select>
				</div>
				<!-- 검색 버튼  -->
				<div class="col-md-3">
					<label class="control-label text-right"></label>
					<div class="text-right">
						<button type="button" class="btn btn-primary"
							data-bind="click: $root.search">
							검색<i class="glyphicon glyphicon-search position-right"></i>
						</button>
					</div>
				</div>
			</div>
		</form>
	</div>
</div>





<!-- <div class="paddingbottom10 text-right">

	<a href="#" class="btn bg-teal" data-bind="click: excelDownload">Excel Download<i class="icon-file-excel position-right"></i></a>
</div> -->

<!-- 공통코드 결과 목록 및 수정삭제 버튼  -->
<hr>
공통코드 그리드 목록
<hr>
<div id="grid"></div>

<hr>
관리자 추가 삭제 수정버튼 작업
<hr>


<div class="text-right" style="padding-top: 10px;">
	<!-- 	<div style="float: left">
	<button type="button" data-bind="click: allAdminUserSync" class="btn btn-warning btn-xs"><b><i class="icon-loop3"></i></b> 모든 관리자 정보 동기화</button>
	<button type="button" data-bind="click: adminDecommission" class="btn btn-warning btn-xs"><b><i class="icon-loop3"></i></b> 관리자 해제</button>
	</div> -->


	<!-- 관리자 추가, 삭제, 수정 버튼  -->
	<button type="button" data-bind="click: onCreateClick"
		class="btn btn-primary btn-xs">
		<b><i class="icon-plus3"></i></b> 추가
	</button>
</div>

<br />




<!-- 상세정보  -->
<!-- <form id="detailsForm" class="form-horizontal" action="#"
	data-bind="visible: detailsVM.isVisible">
	<div class="panel panel-flat">
		<div class="panel-heading">
			<h5 class="panel-title">
				<i class="icon-checkmark3 position-left"></i> 세부정보
			</h5>
			<div class="heading-elements">
				<ul class="icons-list">
					<li><a data-action="collapse"></a></li>
				</ul>
			</div>
			<a class="heading-elements-toggle"><i class="icon-menu"></i></a>
		</div>
		<div class="panel-body" data-bind="with: detailsVM">
			<div class="row" data-bind="with: data">
				<fieldset>
					<legend class="text-semibold" style="height: 30px;">
						<span class="col-md-8"><i class="icon-lock5 position-left"></i>
							관리자 상세정보</span>
					</legend>
					<div class="col-md-6">
						<div class="form-group">
							<label class="col-md-4 control-label text-right"
								for="mberLoginEmail">아이디<span
								class="essentialAsterisk"
								data-bind="visible:$parent.isCreateMode">*</span></label>
							<div class="col-md-4">
								<input type="text" class="form-control input-xs"
									name="mberLoginEmail"
									data-bind="value: mberLoginEmail, event: { focusout: $parent.checkCorrectId }, enable:$parent.isCreateMode" />
							</div>
							<div class="col-md-4" data-bind="visible:$parent.isCreateMode">
								<button type="button" data-bind="click: $parent.showSelectAdminUserModal" class="btn btn-primary btn-xs"> <b><i class="icon-plus3"></i></b> 직원 선택</button>
							</div>
							<div class="col-md-4"></div>
							<div class="col-md-8" data-bind="text: errorMberLoginEmailMsg"
								style="font-size: 12px; color: red"></div>
						</div>
						<div class="form-group" data-bind="visible:$parent.isEditMode">
							<label class="col-md-4 control-label text-right" for="mberEsntlNo">회원고유번호</label>
							<div class="col-md-8">
								<input type="text" class="form-control input-xs" name="mberEsntlNo" data-bind="value: mberEsntlNo" disabled="disabled" />
							</div>
						</div>
						<div class="form-group">
							<label class="col-md-4 control-label text-right" for="mberNm">이름<span
								class="essentialAsterisk" data-bind="visible:$parent.isCreateMode">*</span></label>
							<div class="col-md-8">
								<input type="text" class="form-control input-xs" name="mberNm" data-bind="value: mberNm" />
							</div>
						</div>
						<div class="form-group" data-bind="visible:$parent.isEditMode">
							<label class="col-md-4 control-label text-right" for="mberBrthdy">생년월일</label>
							<div class="col-md-8">
								<input type="text" class="form-control input-xs"
									name="mberBrthdy" data-bind="value: mberBrthdy"
									disabled="disabled" />
							</div>
						</div>
						<div class="form-group">
							<label class="col-md-4 control-label text-right"
								for="pblcrpEmpNo">사번<span class="essentialAsterisk"
								data-bind="visible:$parent.isCreateMode">*</span></label>
							<div class="col-md-8">
								<input type="text" class="form-control input-xs"
									name="pblcrpEmpNo" data-bind="value: pblcrpEmpNo" />
							</div>
						</div>
						<div class="form-group" data-bind="visible: $parent.isEditMode">
							<label class="col-md-4 control-label text-right"
								for="enablePasswordPanel">비밀번호변경</label>
							<div class="col-md-8">
								<div class="checkbox">
									<label> <input type="checkbox" checked="checked"
										data-bind="checked: enablePasswordPanel, enable:enableChangePasswordChk">
									</label>
								</div>
							</div>
						</div>
						<div class="form-group">
							<label class="col-md-4 control-label text-right" for="changePassword">비밀번호<span class="essentialAsterisk" data-bind="visible:$parent.isCreateMode">*</span></label>
							<div class="col-md-4">
								<input type="password" class="form-control input-xs" name="changePassword" data-bind="value: changePassword, enable:enablePasswordPanel"/>
							</div>
							<div class="col-md-4" data-bind="visible:$parent.isCreateMode" style="font-size:12px;color:red">"직원 선택"으로 등록시 비밀번호는 사번과 동일하게 입력 됩니다.</div>
						</div>
						<div class="form-group">
							<label class="col-md-4 control-label text-right" for="confirmPassword">비밀번호확인<span class="essentialAsterisk" data-bind="visible:$parent.isCreateMode">*</span></label>
							<div class="col-md-4">
								<input type="password" class="form-control input-xs" name="confirmPassword" data-bind="value: confirmPassword, event: { focusout: $parent.confirmPasswordFocusout }, enable:enablePasswordPanel"/>
							</div>
							<div class="col-md-4"></div>
							<div class="col-md-4"></div>
							<div class="col-md-8" data-bind="text: errorPasswordMsg" style="font-size: 12px; color: red"></div>
						</div>
						<div class="form-group" data-bind="visible: hasAdminRole">
							<label class="col-md-4 control-label text-right"
								for="mberGradSeCd">관리자등급<span class="essentialAsterisk">*</span></label>
							<div class="col-md-8">
								<select id="mberGradSeCd" class="form-control input-xs"
									name="mberGradSeCd"
									data-bind="options: $root.eduPotalAdminGradeSelectOptions, optionsText:'text', optionsValue:'value', value: mberGradSeCd, optionsCaption: '선택'">
								</select>
							</div>
						</div>
						<div class="form-group" data-bind="visible: !hasAdminRole">
							<label class="col-md-4 control-label text-right"
								for="mberGradSeCd">관리자등급</label>
							<div class="col-md-8">
								<input type="text" class="form-control input-xs"
									name="mberGradSeCd" data-bind="value: mberGradNm"
									disabled="disabled" />
							</div>
						</div>
						<div class="form-group">
							<label class="col-md-4 control-label text-right" for="authorList">소유권한그룹</label>
							<div class="col-md-8" data-bind="foreach: authorList">
								<div class="checkbox">
									<label> <input type="checkbox" checked="checked"
										data-bind="checked: checked, enable:$parent.hasAdminRole">
										<span data-bind="text:value+ ' - ' + text"></span>
									</label>
								</div>
							</div>
						</div>
					</div>
					<div class="col-md-6">
						<div class="form-group"
							data-bind="visible: hasAdminRole && showMngAgentSelectPanel()">
							<label class="col-md-4 control-label text-right" for="mngAgentCd">소속기관</label>
							<div class="col-md-8">
								<select id="mngAgentCd" class="form-control input-xs"
									name="mngAgentCd"
									data-bind="options: $root.mngAgentCodeSelectOptions, optionsText:'text', optionsValue:'value', optionsCaption: '선택', value: mngAgentCd">
								</select>
							</div>
						</div>
						<div class="form-group" data-bind="visible: !hasAdminRole">
							<label class="col-md-4 control-label text-right" for="mngAgentCd">소속기관</label>
							<div class="col-md-8">
								<input type="text" class="form-control input-xs"
									name="mngAgentCd"
									data-bind="value: pageParam.MNGAGENT_CODE[mngAgentCd()]"
									disabled="disabled" />
							</div>
						</div>
						<div class="form-group">
							<label class="col-md-4 control-label text-right" for="offmTelno">사무실전화번호</label>
							<div class="col-md-8">
								<input type="text" class="form-control input-xs"
									name="offmTelno" data-bind="value: offmTelno" />
							</div>
						</div>
						<div class="form-group">
							<label class="col-md-4 control-label text-right" for="mvmnTelno">휴대폰번호</label>
							<div class="col-md-8">
								<input type="text" class="form-control input-xs"
									name="mvmnTelno" data-bind="value: mvmnTelno" />
							</div>
						</div>
						<div class="form-group">
							<label class="col-md-4 control-label text-right" for="useYn">사용여부<span
								class="essentialAsterisk">*</span></label>
							<div class="col-md-8">
								<select id="useYn" class="form-control input-xs" name="useYn"
									data-bind="options: $root.useYnSelectOptions, optionsText:'text', optionsValue:'value', value: useYn">
								</select>
							</div>
						</div>
						ko if: $parent.isEditMode
						<div class="form-group">
							<label class="col-md-4 control-label text-right"
								for="frstInputDt">등록일</label>
							<div class="col-md-8">
								<input type="text" class="form-control input-xs"
									name="frstInputDt" data-bind="momentISO: frstInputDt"
									disabled="disabled" />
							</div>
						</div>
						<div class="form-group">
							<label class="col-md-4 control-label text-right" for="lastUpdtDt">최종수정일</label>
							<div class="col-md-8">
								<input type="text" class="form-control input-xs"
									name="lastUpdtDt" data-bind="momentISO: lastUpdtDt"
									disabled="disabled" />
							</div>
						</div>
						/ko
					</div>
				</fieldset>
			</div>
			<div class="text-right" data-bind="visible: isCreateMode">
				<button type="button" data-bind="click: cancel" class="btn btn-xs">
					<b><i class="icon-cross"></i></b> 닫기
				</button>
				<button type="button" data-bind="click: insertData"
					class="btn btn-primary btn-xs">
					<b><i class="icon-checkmark3"></i></b> 추가
				</button>
			</div>
			<div class="text-right" data-bind="visible: isEditMode">
				<button type="button" data-bind="click: $root.adminUserSync" class="btn btn-warning btn-xs" style="float: left"><b><i class="icon-loop3"></i></b> 관리자 정보 동기화</button>
				<button type="button" data-bind="click: cancel" class="btn btn-xs">
					<b><i class="icon-cross"></i></b> 닫기
				</button>
				<button type="button" data-bind="click: initPw" class="btn btn-warning btn-xs"><b><i class="icon-undo"></i></b> 비밀번호 초기화</button>
				<button type="button" data-bind="click: deleteData"
					class="btn btn-warning btn-xs">
					<b><i class="icon-minus3"></i></b> 삭제
				</button>
				<button type="button" data-bind="click: updateData"
					class="btn btn-primary btn-xs">
					<b><i class="icon-checkmark3"></i></b> 수정
				</button>
			</div>
		</div>
	</div>
</form>
-->


<script type="text/javascript">
	setPageLocation("system/commoncodemng", "공통코드관리");
	var pageParam = {
	/* 		USE_YN : ${USE_YN},
			CLASSIFY_MEMBER: ${CLASSIFY_MEMBER},
			MNGAGENT_CODE: ${MNGAGENT_CODE},
			MNGAGENT_LIST: ${MNGAGENT_LIST},
			AUTHORGROUP_CODE: ${AUTHORGROUP_CODE},
			EDU_POTAL_ADMIN_GRADE: ${EDU_POTAL_ADMIN_GRADE} */
	};
</script>

<script type="text/javascript"
	src="${contextPath}/app/system/commoncodemng/commoncodemng.js"></script>

